<!DOCTYPE HTML>
<html lang="en-EN">

  <head>
    <meta charset="UTF-8">
    <title>Hexdump.js Example</title>
    
    <link rel="stylesheet" type="text/css" href="hexdump.css" media="all">
    
    <script type="text/javascript" src="../src/hexdump.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="jquery-ui.js"></script>
    
  </head>

  <body>
    
    <form action="#">
      
      <div id='form-row'>
        <div id='box'>
          <select name='width' id="form-width">
            <option>10</option>
            <option selected>20</option>
            <option>25</option>
            <option>30</option>
            <option>35</option>
            <option>40</option>
            <option>45</option>
          </select>
          Width
        </div>
        
        <div id="box">
          <select name='width' id="form-spacing">
            <option>0</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
          </select>
          Spacing
        </div>
        
        <div id='box'>
          <input type="checkbox" name="linenumbers" id="linenumbers" checked='true' />
          Line Numbers
        </div>
        
        <div id='box'>
          <input type="checkbox" name="html" id="html" checked='true' />
          HTML / Selecting Effects
        </div>
        
      </div>
    </form>
    
    <pre id="hexdump"></pre>

    <script type="text/javascript">    
      function hexdump (width, spacing, linenumbers, html) {
        var data = 'Priority.Count:.5..Connection.Count:.54.IP.Count:.17.Scanner.IP.Range:.66.249.68.181:198.199.195.228.Port/Proto.Count:.16.Port/Proto.Range:.80:6667.Priority.Count:.5..Connection.Count:.54.IP.Count:.17.Scanner.IP.Range:.66.249.68.181:198.199.195.228.Port/Proto.Count:.16.Port/Proto.Range:.80:6667.';
        
        new Hexdump(data, {
          container: 'hexdump'
          , width: width
          , spacing: spacing
          , html: html
          , lineNumber: linenumbers
          , style: {
              lineNumberLeft: ''
            , lineNumberRight: ':'
            , stringLeft: '|'
            , stringRight: '|'
            , hexLeft: ''
            , hexRight: ''
            , hexNull: '..'
            , stringNull: '.'
          }
        });
      };
      
      $(function() {
      
        function hasHTML() {
          return $('form input#html').is(':checked');
        }
        
        function hasLineNumbers() {
          return $('form input#linenumbers').is(':checked');
        }
        
        hexdump(20, 0);
        
        $('form input#linenumbers').live('change', function() {
          hexdump($('form select#form-width :selected').html(), $('form select#form-spacing :selected').html(), hasLineNumbers(), hasHTML());
        });
        
        $('form input#html').live('change', function() {
          hexdump($('form select#form-width :selected').html(), $('form select#form-spacing :selected').html(), hasLineNumbers(), hasHTML());
        });
        
        $('form select#form-width').live('change', function() {
          hexdump(this.value, $('form select#form-spacing :selected').html(), hasLineNumbers(), hasHTML());
        });
        
        $('form select#form-spacing').live('change', function() {
          hexdump($('form select#form-width :selected').html(), this.value, hasLineNumbers(), hasHTML());
        });
        
        $("#hexdump").selectable({
          filter: 'span[data-hex-id]',
          selected: function(event, ui) {
           var stringId = ui.selected.attributes[0].value;
           $('span[data-string-id="'+stringId+'"]').addClass('ui-selected');
          },
          unselected: function(event, ui) {
           var stringId = ui.unselected.attributes[0].value;
           $('span[data-string-id="'+stringId+'"]').removeClass('ui-selected');
          }
        });
        
      });
      
    </script>

  </body>
</html>